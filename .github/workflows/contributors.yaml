name: Contributors
on: push
jobs:
  add-contributors:
    runs-on: ubuntu-latest
    # only run if the commit wasn't created by the auto-contrib-bot
    if: ${{ !startsWith( github.event.head_commit.message , '[auto-contrib-bot]' ) }}
    steps:
    - uses: actions/checkout@v2
    - uses: BobAnkh/add-contributors@v0.2.2
      with:
        ACCESS_TOKEN: ${{secrets.FLYTE_BOT_PAT}}
        CONTRIBUTOR: '<!-- Flyte Contributors -->'
        COLUMN_PER_ROW: '10'
        IMG_WIDTH: '70'
        FONT_SIZE: '8'
        PATH: '/README.md'
        BRANCH: ${{ github.ref }}
        COMMIT_MESSAGE: '[auto-contrib-bot] update contributors'
        AVATAR_SHAPE: round
