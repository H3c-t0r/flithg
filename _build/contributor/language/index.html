

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Flyte Specification Language &mdash; Flyte 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Extending Flyte" href="../extending/index.html" />
    <link rel="prev" title="Flyte Console" href="../components/console.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Flyte
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Flyte Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administrator/index.html">Administrator Docs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Contributor Docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../components/index.html">Flyte System Components</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Flyte Specification Language</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#elements">Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiler">Compiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="#properties-of-types-and-values">Properties of types and values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extensibility">Extensibility</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../extending/index.html">Extending Flyte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/index.html">Contributing to Docs</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Generated Documentation from Source</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lyft/flyteidl">Flyte Language Specification</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Flyte</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Contributor Docs</a> &raquo;</li>
        
      <li>Flyte Specification Language</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/contributor/language/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="flyte-specification-language">
<span id="user-language"></span><h1>Flyte Specification Language<a class="headerlink" href="#flyte-specification-language" title="Permalink to this headline">¶</a></h1>
<p>Flyte at the core consists of a specification language that all the components of the system can interact with.
The specification language is written in <a class="reference external" href="https://en.wikipedia.org/wiki/Protocol_Buffers">Protocol Buffers</a>. This allows for a very portable language model. An implementation of the language
makes interaction with the system easier and brings the power of Flyte to the user. A full implementation of the language is provided in
<a class="reference internal" href="../../user/sdk/index.html#user-sdk-python"><span class="std std-ref">Python SDK</span></a> as well as generated <span class="xref std std-ref">Golang types</span>, C++ and JAVA.</p>
<p>This is a reference manual for Flyte Specification Language. For more information on how to use the provided SDK, please
refer to <a class="reference internal" href="../../user/sdk/index.html#user-sdk-python"><span class="std std-ref">SDK manual</span></a>.</p>
<div class="section" id="elements">
<h2>Elements<a class="headerlink" href="#elements" title="Permalink to this headline">¶</a></h2>
<dl id="language-types">
<dt>Types</dt><dd><p>Flyte Spec Language defines a flexible typing system. There are broadly three sets of types; primitives (e.g. ints, float, bool, string),
collections (lists and maps) and use-case specific types (e.g. Schema, Blob, Struct).</p>
<p>Collection types support any dimensionality (e.g. a list of map of list of strings).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Flyte collection types are invariant. i.e. a list of Cat is not a subtype of list of Animal.</p>
</div>
<p>For reference documentation on types, refer to <span class="xref std std-ref">Types</span></p>
</dd>
</dl>
<dl id="language-literals">
<dt>Literals</dt><dd><p>Literals are bound values for specific types. E.g. <cite>5</cite> is a literal of primitive type int with value <cite>5</cite></p>
<p>For reference documentation on literals, refer to <span class="xref std std-ref">Types</span></p>
</dd>
</dl>
<dl id="language-variables">
<dt>Variables</dt><dd><p>Variables are named entities that have a type. Variables are used to name inputs and outputs of execution units (tasks, wfs… etc.)
as well as referencing outputs of other execution units.</p>
<p>For reference documentation on variables, refer to <span class="xref std std-ref">Variable</span></p>
</dd>
</dl>
<dl id="language-interface">
<dt>Interface</dt><dd><p>Every execution unit in Flyte can optionally define an interface. The interface holds information about the inputs
and output variables. In order for <strong>task B</strong> to consume output <strong>X</strong> of <strong>task A</strong>, it has to declare an input
variable of the same type (not necessarily the same name).</p>
<p>For reference documentation on interfaces, refer to <span class="xref std std-ref">Interfaces</span></p>
</dd>
</dl>
<dl id="language-tasks">
<dt>Tasks</dt><dd><p>TaskTemplate is a system entity that describes common information about the task for the rest of the system to reason
about. TaskTemplates contain:</p>
<ul class="simple">
<li><p>An <a class="reference internal" href="#language-identifiers"><span class="std std-ref">identifier</span></a> that globally identifies this task and allows other entities to reference
it.</p></li>
<li><p>A string type that is used throughout the system to customize the behavior of the task execution (e.g. launch a
container in K8s, execute a SQL query… etc.) as well as how it gets rendered in the UI.</p></li>
<li><p>An <a class="reference internal" href="#language-interface"><span class="std std-ref">interface</span></a> that can be used to type check bindings as well as compatibility of plugging
the task in a larger workflow.</p></li>
<li><p>An optional container that describes the versioned container image associated with the task.</p></li>
<li><p>An optional custom <a class="reference external" href="https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/struct.proto">Struct</a> used by various plugins to carry information used to customize this task’s behavior.</p></li>
</ul>
<p>For concept documentation on tasks, refer to <a class="reference internal" href="../../user/concepts/tasks.html#concepts-tasks"><span class="std std-ref">task concepts</span></a>.
For reference documentation on tasks, refer to <span class="xref std std-ref">Tasks</span></p>
</dd>
</dl>
<dl id="language-bindings">
<dt>Bindings</dt><dd><p>Bindings define how a certain input of a task should receive its <a class="reference internal" href="#language-literals"><span class="std std-ref">literal</span></a> value.
Bindings can be static (assigned at compile/registration time to a literal) or can be references to outputs of other
nodes.</p>
<p>A Binding of an input of type collection of strings can either be bound to an output of the same type of a different
node or else individual items can be bound to outputs of type string of other tasks.</p>
<p>e.g.
.. code-block:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">let</span> <span class="n">taskA</span> <span class="k">return</span> <span class="n">output</span> <span class="n">S</span> <span class="n">of</span> <span class="nb">type</span> <span class="n">String</span>
<span class="n">let</span> <span class="n">taskB</span> <span class="k">return</span> <span class="n">output</span> <span class="n">SList</span> <span class="n">of</span> <span class="nb">type</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">string</span>
<span class="n">let</span> <span class="n">taskC</span> <span class="n">takes</span> <span class="nb">input</span> <span class="n">i</span> <span class="n">of</span> <span class="nb">type</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">string</span>

<span class="o">//</span> <span class="n">Bind</span> <span class="n">the</span> <span class="n">entire</span> <span class="nb">input</span> <span class="n">to</span> <span class="n">the</span> <span class="n">entire</span> <span class="n">output</span><span class="o">.</span>
<span class="n">taskC</span><span class="o">.</span><span class="n">i</span> <span class="o">&lt;-</span> <span class="n">taskB</span><span class="o">.</span><span class="n">SList</span>

<span class="o">//</span> <span class="n">Bind</span> <span class="n">individual</span> <span class="n">items</span>
<span class="n">taskC</span><span class="o">.</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="n">taskA</span><span class="o">.</span><span class="n">S</span>
<span class="n">taskC</span><span class="o">.</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="n">taskA</span><span class="o">.</span><span class="n">S</span>
</pre></div>
</div>
<p>For reference documentation on bindings, refer to <span class="xref std std-ref">Types</span></p>
</dd>
</dl>
<dl id="language-identifiers">
<dt>Identifiers</dt><dd><p>An identifier is a globally unique structure that identifies an entity in the system. Varrious entities have different
identifiers. Tasks, Workflows and Launchplans are all globally identified with an identifier.</p>
<p>For reference documentation on identifiers, refer to <span class="xref std std-ref">Indentifier</span></p>
</dd>
</dl>
<dl id="language-conditions">
<dt>Conditional Expressions</dt><dd><p>Flyte Spec Language supports conditional expressions of two types; logical and comparison expressions.
Expressions are represented as a tree of boolean expressions.</p>
<dl>
<dt>Logical Expressions</dt><dd><p>A logical expression is expressed as a logical operator (only AND and OR operators are supported) and two conditional
expressions</p>
</dd>
<dt>Comparison Expressions</dt><dd><p>A comparison expression is expressed as a comparison operator
(Equal, Not Equal, Greater Than, Greater Than or Equal, Less Than or Less Than or Equal) and two operands.</p>
<p>An operand can either be a <a class="reference internal" href="#language-literals"><span class="std std-ref">primitive</span></a> or a variable name that exists as an input to the
node where the expression is evaluated.</p>
</dd>
</dl>
<p>For reference documentation on conditions, refer to <span class="xref std std-ref">Indentifier</span></p>
</dd>
</dl>
<dl id="language-nodes">
<dt>Nodes</dt><dd><p>Nodes are encapsulations around any execution unit (task, workflow, launchplan… etc.) that abstracts away details about
the execution unit and allows interaction with other nodes with minimal information.</p>
<p>Nodes define <a class="reference internal" href="#language-bindings"><span class="std std-ref">how to bind</span></a> the inputs of the underlying execution unit (e.g. task).
They can also alter how outputs are exposed by providing output aliases to some or all of the outputs variables.</p>
<p>Multiple nodes can reference the same execution unit with different input bindings.</p>
<p>Dependencies between nodes is driven by bindings; e.g. NodeC depends on data from NodeA, therefore the system will
wait to execute NodeC until NodeA has successfully finished executing.
Nodes can optionally define execution dependencies that are not expressed in bindings.</p>
<p>For more information about the different types of nodes, please refer to <a class="reference internal" href="../../user/concepts/workflows_nodes.html#concepts-nodes"><span class="std std-ref">node concepts</span></a>.
For reference documentation on nodes, refer to <span class="xref std std-ref">Nodes</span></p>
</dd>
</dl>
<dl id="language-workflows">
<dt>Workflows</dt><dd><p>Workflows represent an execution scope in the system. A workflow is a directed-acyclic-graph that describes what steps
need to be executed, in what order as well as which steps need to consume data from other steps.</p>
<p>For concept documentation on workflows, refer to <a class="reference internal" href="../../user/concepts/workflows_nodes.html#concepts-workflows"><span class="std std-ref">node concepts</span></a>.
For reference documentation on workflows, refer to <span class="xref std std-ref">Workflows</span></p>
</dd>
</dl>
</div>
<div class="section" id="compiler">
<h2>Compiler<a class="headerlink" href="#compiler" title="Permalink to this headline">¶</a></h2>
<p>Flyte system requires compiled Workflows to execute. A CLI is provided for convenience to compile locally. Flyte
automatically compiles all registered tasks and workflows.
The compilation process validates that all nodes and tasks interfaces match up. It then pre-computes the actual
execution plan and serializes the compiled workflow.</p>
</div>
<div class="section" id="properties-of-types-and-values">
<h2>Properties of types and values<a class="headerlink" href="#properties-of-types-and-values" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Type Identity</dt><dd><p>Two types are equal if and only if their <a class="reference external" href="https://en.wikipedia.org/wiki/Protocol_Buffers">Protocol Buffers</a> representation is identical.</p>
</dd>
<dt>Assignability</dt><dd><p>Flyte types are invariant. Two variables can be assigned to each other if and only if their types
are identical.</p>
</dd>
</dl>
</div>
<div class="section" id="extensibility">
<h2>Extensibility<a class="headerlink" href="#extensibility" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>New types</dt><dd><p>Flyte types can be extended in two ways:</p>
<dl>
<dt>A customization of an existing type</dt><dd><p>e.g. Creating a URL type can be represented as a Literal Type String (that contains the final URL). As far as the task
interface is concerned, its output is of type String. A subsequent task can then have an input of type string to bind
to that output.</p>
<p>Because this approach localizes the visibility of the new type to the one task that produced it, it’s hard to enforce
any type checks (or validation for URL format… etc.) at the system layer.</p>
<p>This approach won’t always satsify more complex types’ needs.</p>
</dd>
<dt>Using generic types</dt><dd><p>Flyte offers a literal type <cite>STRUCT</cite> that allows the passing of any valid <a class="reference external" href="https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/struct.proto">Struct</a> as a value.
This approach is very powerful to pass other <a class="reference external" href="https://en.wikipedia.org/wiki/Protocol_Buffers">Protocol Buffers</a> messages or custom types (represented in <a class="reference external" href="https://en.wikipedia.org/wiki/JSON">JSON</a>)
that only <a class="reference internal" href="../extending/index.html#contributor-extending"><span class="std std-ref">plugins</span></a> knows about.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Flyte doesn’t yet support subtyping, or custom strongly typed structs.</p>
</div>
</dd>
</dl>
<div class="toctree-wrapper compound" id="languagetoc">
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../extending/index.html" class="btn btn-neutral float-right" title="Extending Flyte" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../components/console.html" class="btn btn-neutral float-left" title="Flyte Console" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Flyte Authors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>