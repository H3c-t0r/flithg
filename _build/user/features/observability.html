

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Metrics for your executions &mdash; Flyte 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Notifications" href="notifications.html" />
    <link rel="prev" title="FlyteCLI" href="flytecli.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Flyte
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Flyte Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/index.html">Flyte Concepts</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Flyte Features</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="flytecli.html">FlyteCLI</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Metrics for your executions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#flyte-provided-metrics">Flyte-Provided Metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-stats-with-flyte">User Stats With Flyte</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="notifications.html">Notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="labels_annotations.html">Labels and Annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="task_cache.html">Task Cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="roles.html">Why roles?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tasktypes/index.html">Flyte Task Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../administrator/index.html">Administrator Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributor/index.html">Contributor Docs</a></li>
</ul>
<p class="caption"><span class="caption-text">Generated Documentation from Source</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lyft/flyteidl">Flyte Language Specification</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Flyte</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">User docs</a> &raquo;</li>
        
          <li><a href="index.html">Flyte Features</a> &raquo;</li>
        
      <li>Metrics for your executions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/user/features/observability.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="metrics-for-your-executions">
<span id="features-observability"></span><h1>Metrics for your executions<a class="headerlink" href="#metrics-for-your-executions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="flyte-provided-metrics">
<h2>Flyte-Provided Metrics<a class="headerlink" href="#flyte-provided-metrics" title="Permalink to this headline">¶</a></h2>
<p>Whenever you run a workflow, Flyte Platform automatically emits high-level metrics. These metrics follow a consistent schema and
aim to provide visibility into aspects of the Platform which might otherwise be opaque.  These metrics will help users diagnose whether an issue is inherent to the Platform or to one’s own task or workflow implementation. We will be adding to this set of metrics as we implement the capabilities to pull more data from the system, so keep checking back for new stats!</p>
<p>At a highlevel, workflow execution goes through the following discrete steps:</p>
<img alt="https://raw.githubusercontent.com/lyft/flyte/assets/img/flyte_wf_timeline.svg?sanitize=true" src="https://raw.githubusercontent.com/lyft/flyte/assets/img/flyte_wf_timeline.svg?sanitize=true" />
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Description of main events for workflow execution</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Events</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Acceptance</p></td>
<td><p>Measures the time between when we receive service call to create an Execution (Unknown) and when it has moved to Queued.</p></td>
</tr>
<tr class="row-even"><td><p>Transition Latency</p></td>
<td><p>Measures the latency between two consecutive node executions, the time spent in Flyte engine.</p></td>
</tr>
<tr class="row-odd"><td><p>Queuing Latency</p></td>
<td><p>Measures the latency between the time a node’s been queued to the time the handler reported the executable moved to running state.</p></td>
</tr>
<tr class="row-even"><td><p>Task Execution</p></td>
<td><p>Actual time spent executing user code</p></td>
</tr>
<tr class="row-odd"><td><p>Repeat steps 2-4 for every task</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Transition Latency</p></td>
<td><p>See #2</p></td>
</tr>
<tr class="row-odd"><td><p>Completion Latency</p></td>
<td><p>Measures the time between when the WF moved to succeeding/failing state and when it finally moved to a terminal state.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 5%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>Flyte Stats Schema</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Prefix</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">propeller.all.workflow.acceptance-latency-ms</span></code></p></td>
<td><p>Timer (ms)</p></td>
<td><p>Measures the time between when we receive service call to create an Execution (Unknown) and when it has moved to Queued.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">propeller.all.node.queueing-latency-ms</span></code></p></td>
<td><p>Timer (ms)</p></td>
<td><p>Measures the latency between the time a node’s been queued to the time the handler reported the executable moved to running state.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">propeller.all.node.transition-latency-ms</span></code></p></td>
<td><p>Timer (ms)</p></td>
<td><p>Measures the latency between two consecutive node executions, the time spent in Flyte engine.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">propeller.all.workflow.completion-latency-ms</span></code></p></td>
<td><p>Timer (ms)</p></td>
<td><p>Measures the time between when the WF moved to succeeding/failing state and when it finally moved to a terminal state.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">propeller.all.node.success-duration-ms</span></code></p></td>
<td><p>Timer (ms)</p></td>
<td><p>Actual time spent executing user code (when the node ends with success phase).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">propeller.all.node.success-duration-ms-count</span></code></p></td>
<td><p>Counter</p></td>
<td><p>Count of how many times a node success was reported.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">propeller.all.node.failure-duration-ms</span></code></p></td>
<td><p>Timer (ms)</p></td>
<td><p>Actual time spent executing user code (when the node ends with failure phase).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">propeller.all.node.failure-duration-ms-count</span></code></p></td>
<td><p>Counter</p></td>
<td><p>Count of how many times a node failure was reported.</p></td>
</tr>
</tbody>
</table>
<p>All the above stats are automatically tagged with the following fields for further scoping.  This includes user-produced stats.  Users
can also provide additional tags (or override tags) for custom stats.</p>
<table class="docutils align-default" id="task-stats-tags">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"></th>
</tr>
<tr class="row-even"><th class="head"><p>Tag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>wf</p></td>
<td><p>This is the name of the workflow that was executing when this metric was emitted.
<code class="docutils literal notranslate"><span class="pre">{{project}}:{{domain}}:{{workflow_name}}</span></code></p></td>
</tr>
</tbody>
</table>
<div class="section" id="flyte-task-container-metrics">
<h3>Flyte Task Container Metrics<a class="headerlink" href="#flyte-task-container-metrics" title="Permalink to this headline">¶</a></h3>
<p>To be built.</p>
</div>
<div class="section" id="default-project-dashboard">
<h3>Default Project Dashboard<a class="headerlink" href="#default-project-dashboard" title="Permalink to this headline">¶</a></h3>
<p>To be built.</p>
</div>
</div>
<div class="section" id="user-stats-with-flyte">
<h2>User Stats With Flyte<a class="headerlink" href="#user-stats-with-flyte" title="Permalink to this headline">¶</a></h2>
<p>The workflow parameters object that the SDK injects into the various tasks has a statsd handle that users should call
to emit stats related to their workflows not captured by the default metrics. Please see the
<span class="xref std std-ref">tutorial</span> for more information. The usual caveats around cardinality apply of course.</p>
<p>Users are encouraged to avoid creating their own stats handlers.  These can pollute the general namespace if not done
correctly, and also can accidentally interfere with production stats of live services, causing pages and wreaking
havoc in general.  In fact, if you’re using any libraries that emit stats, it’s best to turn them off if possible.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="notifications.html" class="btn btn-neutral float-right" title="Notifications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="flytecli.html" class="btn btn-neutral float-left" title="FlyteCLI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Flyte Authors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>